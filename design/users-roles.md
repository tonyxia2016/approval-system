# 用户与角色设计

本项目仅涉及到一个部门，因此不做组织架构设计，仅根据审批流程需求，设计了角色。



## 角色

| role               | description                        | 权限                                                         |
| ------------------ | ---------------------------------- | ------------------------------------------------------------ |
| investigatrors     | 定损员                             | 1. 可提交新申请。<br>2. 可查询自己提交的，且未完成申请。包括：“审批中”和“已驳回”。<br>3. 可查询自己提交的，且已批准的申请。<br>4. 可对被驳回的申请进行修改，并重新提交。 |
| leaders            | 组长                               | 1. 可查询所有需要自己审批的申请。<br>2. 可对申请进行审批，审批结果：通过、不通过。<br>3. 可将申请平移给其他组长处理。注意：必须明确指定组长名。<br>4. 可将申请上交给主任处理。 |
| directors          | 主任                               | 1. 可查询所有需要自己审批的申请。<br>2. 可对申请进行审批，审批结果：通过、不通过。 |
| lumpSumApprovers   | “包干修复”初审，必须同时属于`组长` | 1. 可对初次提交的“包干修复”申请进行审批。                    |
| highValueApprovers | “高价值件”初审，必须同时属于`组长` | 1. 可对初次提交的“高价值件”申请进行审批。                    |
| assemblyApprovers  | “总成部件“初审，必须同时属于`组长` | 1. 可对初次提交的“总成部件”申请进行审批。                    |
| adjustApprovers    | ”调价申请“初审，必须同时属于`组长` | 1. 可对初次提交的“调价申请”申请进行审批。                    |



## 权限

| 权限                                                       | 定损员 | 组长 | 主任 |
| ---------------------------------------------------------- | :----: | :--: | :--: |
| 提交新申请                                                 |   ✔    |      |      |
| 更新申请内容                                               |   ✔    |      |      |
| 查询自己提交的，且未完成的申请。包括：“审批中”和“已驳回”。 |   ✔    |      |      |
| 查询自己提交的，且已批准的申请                             |   ✔    |      |      |
| 查询需要自己审批的申请                                     |        |  ✔   |  ✔   |
| 审批                                                       |        |  ✔   |  ✔   |
| 审批的平移、上交                                           |        |  ✔   |      |



## Mock 数据

| userid    | name | role               |
| --------- | ---- | ------------------ |
| xiawei    | 夏伟 | 定损员             |
| guoping   | 郭平 | 定损员             |
| zhangyang | 张洋 | 组长，包干修复初审 |
| lijie     | 李捷 | 组长，高价值件初审 |
| fengming  | 冯明 | 组长，总成部件初审 |
| wuchao    | 吴超 | 组长，调价申请初审 |
| yuyong    | 于勇 | 主任               |

